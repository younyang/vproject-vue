webpackJsonp([42],{596:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(771),a=s(772),o=s(15),l=o(i.a,a.a,null,null,null);e.default=l.exports},771:function(t,e,s){"use strict";e.a={name:"gtm",components:{},data:function(){return{process:"wideips",submitItems:{},items:{wideips:{name:"",aliases:[{data:null}],pools:[{data:null}]},pools:{name:null,monitor:"gateway_icmp",ttl:null,members:[{data:null}]},servers:{name:null,datacenter:"Test_DC",addresses:[""]}},code:{process:[{code:"wideips",codeName:"Domain 정보"},{code:"pools",codeName:"Pool 정보"},{code:"servers",codeName:"Server 정보"}]},modal:{open:!1,type:"done",msg:"",action:function(){this.modal.open=!1}},inValidForm:!1}},methods:{onAddRow:function(t,e){this.items[t][e].push({data:null})},onDelRow:function(t,e,s){this.items[t][e].splice(s,1)},onSubmit:function(){var t=this.items[this.process],e={};Object.keys(t).forEach(function(s){var i=t[s];"aliases"!==s&&"pools"!==s&&"members"!==s||(i=i.map(function(t){return t.data})),e[s]=i});var s=this.$valid.all(e);this.inValidForm=!s,s&&(this.submitItems=e,this.modal={open:!0,type:"confirm",msg:"설정한 정보를 저장 및 배포하시겠습니까?",action:this.onSubmitData})},onSubmitData:function(){this.modal.open=!1,this.$https.post("/gtm/"+this.process,this.submitItems).then(this.onSubmitComplete).catch(function(t){console.log(t)})},onSubmitComplete:function(){var t=this.$router;this.modal={open:!0,type:"done",msg:"저장 및 배포가 완료되었습니다",action:function(){t.go(t.currentRoute)}}}}}},772:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"animated fadeIn"},[s("div",{staticClass:"collapse-title"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formDefault",modifiers:{formDefault:!0}}],staticClass:"btn-collapse"},[s("i",{staticClass:"fa"}),t._v("\n      기본정보\n    ")])],1),t._v(" "),s("b-collapse",{attrs:{id:"formDefault",visible:""}},[s("b-form",{staticClass:"formView",attrs:{validated:t.inValidForm,novalidate:""}},[s("b-form-fieldset",{attrs:{label:"Process",horizontal:!0}},[s("b-form-radio-group",{attrs:{options:t.code.process,name:"process","value-field":"code","text-field":"codeName"},model:{value:t.process,callback:function(e){t.process=e},expression:"process"}})],1),t._v(" "),"wideips"===t.process?s("div",[s("b-form-fieldset",{attrs:{label:"Domain Name<i class='require'>*</i>",description:"※ 영문 및 숫자, 특수문자(-, _) 가능","invalid-feedback":t.$valid.msg.require,horizontal:!0}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:t.items.wideips.name,callback:function(e){t.$set(t.items.wideips,"name",e)},expression:"items.wideips.name"}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"Domain Alias<i class='require'>*</i>",horizontal:!0}},[s("b-table",{staticClass:"sub",attrs:{"show-empty":"",items:t.items.wideips.aliases,fields:{index:{label:"번호",class:"index"},data:{label:"Aliases",class:"text-left"}}},scopedSlots:t._u([{key:"index",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n            ")]}},{key:"data",fn:function(e){return[s("b-form-input",{attrs:{type:"text",required:""},model:{value:e.item.data,callback:function(s){t.$set(e.item,"data",s)},expression:"row.item.data"}}),t._v(" "),s("span",{staticClass:"ico"},[0===e.index?s("button",{attrs:{type:"button"},on:{click:function(e){t.onAddRow("wideips","aliases")}}},[s("i",{staticClass:"fa fa-plus-circle"})]):t._e(),t._v(" "),e.index>0?s("button",{attrs:{type:"button"},on:{click:function(s){t.onDelRow("wideips","aliases",e.index)}}},[s("i",{staticClass:"fa fa-times-circle"})]):t._e()]),t._v(" "),s("div",{staticClass:"invalid-tooltip"},[t._v(t._s(t.$valid.msg.require))])]}}])})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"Pool mapping<i class='require'>*</i>",horizontal:!0}},[s("b-table",{staticClass:"sub",attrs:{"show-empty":"",items:t.items.wideips.pools,fields:{index:{label:"번호",class:"index"},data:{label:"Pools",class:"text-left"}}},scopedSlots:t._u([{key:"index",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n            ")]}},{key:"data",fn:function(e){return[s("b-form-input",{attrs:{type:"text",required:""},model:{value:e.item.data,callback:function(s){t.$set(e.item,"data",s)},expression:"row.item.data"}}),t._v(" "),s("span",{staticClass:"ico"},[0===e.index?s("button",{attrs:{type:"button"},on:{click:function(e){t.onAddRow("wideips","pools")}}},[s("i",{staticClass:"fa fa-plus-circle"})]):t._e(),t._v(" "),e.index>0?s("button",{attrs:{type:"button"},on:{click:function(s){t.onDelRow("wideips","pools",e.index)}}},[s("i",{staticClass:"fa fa-times-circle"})]):t._e()]),t._v(" "),s("div",{staticClass:"invalid-tooltip"},[t._v(t._s(t.$valid.msg.require))])]}}])})],1)],1):t._e(),t._v(" "),"pools"===t.process?s("div",[s("b-form-fieldset",{attrs:{label:"Pool Name<i class='require'>*</i>",description:"※ 영문 및 숫자, 특수문자(-, _) 가능","invalid-feedback":t.$valid.msg.require,horizontal:!0}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:t.items.pools.name,callback:function(e){t.$set(t.items.pools,"name",e)},expression:"items.pools.name"}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"Health Monitor","label-for":"monitor1",horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.pools.monitor,type:"text",plaintext:""}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"TTL<i class='require'>*</i>","invalid-feedback":t.$valid.msg.require,horizontal:!0}},[s("cleave",{staticClass:"form-control",staticStyle:{width:"100px"},attrs:{value:t.items.pools.ttl,options:{numeral:!0,numeralPositiveOnly:!0,numeralDecimalScale:0},required:""},on:{"update:value":function(e){t.$set(t.items.pools,"ttl",e)}}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"Server Mapping<i class='require'>*</i>",horizontal:!0}},[s("b-table",{staticClass:"sub",attrs:{"show-empty":"",items:t.items.pools.members,fields:{index:{label:"번호",class:"index"},data:{label:"Server",class:"text-left"}}},scopedSlots:t._u([{key:"index",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n            ")]}},{key:"data",fn:function(e){return[s("b-form-input",{attrs:{type:"text",required:""},model:{value:e.item.data,callback:function(s){t.$set(e.item,"data",s)},expression:"row.item.data"}}),t._v(" "),s("span",{staticClass:"ico"},[0===e.index?s("button",{attrs:{type:"button"},on:{click:function(e){t.onAddRow("pools","members")}}},[s("i",{staticClass:"fa fa-plus-circle"})]):t._e(),t._v(" "),e.index>0?s("button",{attrs:{type:"button"},on:{click:function(s){t.onDelRow("pools","members",e.index)}}},[s("i",{staticClass:"fa fa-times-circle"})]):t._e()]),t._v(" "),s("div",{staticClass:"invalid-tooltip"},[t._v(t._s(t.$valid.msg.require))])]}}])})],1)],1):t._e(),t._v(" "),"servers"===t.process?s("div",[s("b-form-fieldset",{attrs:{label:"Server IP<i class='require'>*</i>","invalid-feedback":t.$valid.msg.require,horizontal:!0}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:t.items.servers.addresses[0],callback:function(e){t.$set(t.items.servers.addresses,0,e)},expression:"items.servers.addresses[0]"}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"Server Name<i class='require'>*</i>","invalid-feedback":t.$valid.msg.require,horizontal:!0}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:t.items.servers.name,callback:function(e){t.$set(t.items.servers,"name",e)},expression:"items.servers.name"}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"Health Monitor","label-for":"monitor2",horizontal:!0}},[s("input",{staticClass:"form-control-plaintext",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.items.pools.monitor}})]),t._v(" "),s("b-form-fieldset",{attrs:{label:"Data Center",horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.servers.datacenter,type:"text",plaintext:""}})],1)],1):t._e()],1)],1),t._v(" "),s("div",{staticClass:"page-btn"},[s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onSubmit}},[t._v("저장")])],1),t._v(" "),s("b-modal",{class:"modal-"+t.modal.type,attrs:{title:"Message",size:"sm"},model:{value:t.modal.open,callback:function(e){t.$set(t.modal,"open",e)},expression:"modal.open"}},[s("div",{staticClass:"d-block text-center"},[s("p",[t._v(t._s(t.modal.msg))])]),t._v(" "),"confirm"===t.modal.type?s("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.modal.action}},[t._v("확인")]),t._v(" "),s("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:function(e){t.modal.open=!1}}},[t._v("취소")])],1):t._e(),t._v(" "),"done"===t.modal.type?s("div",{staticClass:"mx-auto",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.modal.action}},[t._v("확인")])],1):t._e()])],1)},a=[],o={render:i,staticRenderFns:a};e.a=o}});